# Claude Attachment Handling Improvements

## Problem
Claude exports provide only metadata and extracted text from attachments, unlike other processors that can access the actual files. We need to make this limitation clear in both code and documentation.

## Changes Required

### 1. Code Updates
#### src/consolidate_markdown/processors/claude.py
- [x] Update `_format_text_attachment` method
  - Added clear metadata display (file type, size)
  - Include warning about extracted content limitations
  - Improve markdown formatting to indicate extracted nature
  - Added handling for empty attachments with metadata preservation

- [x] Update `_process_attachment` method
  - Add documentation about Claude limitations
  - Enhance logging for clarity
  - Handle binary vs text attachments appropriately

- [x] Add helper methods
  - `_format_file_size` for consistent size display
  - `_get_attachment_icon` for file type indicators

### 2. Documentation
#### New: docs/claude-attachments.md
- [x] Create comprehensive guide
  - Explained Claude export limitations
  - Documented attachment handling differences
  - Provided examples of extracted content
  - Added examples of empty attachment handling
  - Included comparison with other processors

#### Update: docs/README.md
- [x] Add section on processor differences
- [x] Document Claude-specific limitations
- [x] Include example outputs for both content and empty attachments

### 3. Testing
#### tests/unit/test_claude_processor.py
- [x] Add test cases for:
  - Different attachment types (PDF, DOCX, TXT)
  - Metadata formatting
  - Warning messages
  - Markdown output format
  - Empty attachment handling

### 4. Example Output Format
```markdown
<!-- CLAUDE EXPORT: Extracted content from example.pdf -->
<details>
<summary>ðŸ“„ example.pdf (1.2MB PDF) - Extracted Content</summary>

Original File Information:
- Type: PDF
- Size: 1.2MB
- Extracted: 2024-01-30

Extracted Content:
```text
[Content extracted by Claude]
```

</details>
```

### 5. Error Handling
- [x] Add clear error messages for missing metadata
- [x] Implement graceful handling for empty attachments
- [x] Add metadata preservation for empty attachments
- [x] Improve logging for attachment processing

### 6. Implementation Order
1. âœ“ Update core attachment formatting code
2. âœ“ Add helper methods for consistent formatting
3. âœ“ Implement empty attachment handling
4. âœ“ Update documentation
5. âœ“ Add comprehensive test coverage

### 7. Notes
- Empty attachments now show metadata with clear status indication
- All changes maintain backward compatibility
- Documentation updated to reflect new behavior
- Test coverage includes both content and empty cases
